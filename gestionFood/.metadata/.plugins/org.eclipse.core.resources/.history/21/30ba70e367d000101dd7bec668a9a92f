package fr.insa.ms.GestionFood.controller;
import fr.insa.ms.GestionFood.model.*;
import jakarta.annotation.PostConstruct;

import java.util.ArrayList;
import java.util.List;

import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/self")
public class GestionFoodResource {
	private List<Plat> menu = new ArrayList<Plat>();
	/*@PostConstruct
	public void init() {
		ListeFood menu = new ListeFood();
		menu.addPlatToMenu(new Plat(1,"Magret de canard","C BIG LE KANAR","CHAUD"));
		menu.addPlatToMenu(new Plat(2,"Tiramisu","Miam","FROID"));
	}*/
	
	@GetMapping("/menu")
	public List<Plat> getMenu(){
		return menu;
	}
	
	@PostMapping("/plat")
	public void ajouterPlat(@RequestBody int id, @RequestBody String nom, @RequestBody String description, @RequestBody String type) {
		menu.add(new Plat(id,nom,description,type));
	}
	@DeleteMapping("/menu/{id}")
	public boolean deletePlat(@PathVariable int id) {
		return menu.removeIf(Plat -> Plat.getId()==id);
	}
}
